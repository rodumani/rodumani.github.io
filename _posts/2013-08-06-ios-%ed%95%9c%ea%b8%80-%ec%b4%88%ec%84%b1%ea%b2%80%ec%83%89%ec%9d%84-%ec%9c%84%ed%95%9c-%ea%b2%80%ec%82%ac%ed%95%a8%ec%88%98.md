---
title: iOS 한글 초성검색을 위한 검사함수
author: Rodumani
layout: post
permalink: /2013/08/ios-%ed%95%9c%ea%b8%80-%ec%b4%88%ec%84%b1%ea%b2%80%ec%83%89%ec%9d%84-%ec%9c%84%ed%95%9c-%ea%b2%80%ec%82%ac%ed%95%a8%ec%88%98/
categories:
  - iOS
tags:
  - iOS
  - 초성검색
---
찾아보면, 한글 초성검색 지원을 위해 한글 초성을 분리해주는 코드를 작성한 곳은 많은데, 아예 검사까지 작성해 둔곳은 거의 없는 듯 하다. 

다음의 함수는 compareString으로 비교할 NSString 을 받고 choseongString으로 검색어로 들어온 초성을 받아서 compareString 에 choseongString의 초성이 있는지 검사해 BOOL로 리턴해준다. 

<pre class="lang:objc decode:true " >-(BOOL)string:(NSString *)compareString containsChoseong:(NSString *)choseongString{
    NSArray *chosungArray = [[NSArray alloc]initWithObjects:@"ㄱ",@"ㄲ",@"ㄴ",@"ㄷ",@"ㄸ",@"ㄹ",@"ㅁ",@"ㅂ",@"ㅃ",@"ㅅ",@"ㅆ",@"ㅇ",@"ㅈ",@"ㅉ",@"ㅊ",@"ㅋ",@"ㅌ",@"ㅍ",@"ㅎ", nil];
    NSString *chosung = @"";
    
    for (int i=0; i&lt;[compareString length];i++){
        NSInteger code = [compareString characterAtIndex:i];
        if(code &gt;= 44032 && code &lt;=55203){
            NSInteger uniCode = code-44032;
            NSInteger chosungIndex = uniCode / 21 / 28;
            chosung = [NSString stringWithFormat:@"%@%@",chosung,[chosungArray objectAtIndex:chosungIndex]];
        }
        else {
            chosung = [NSString stringWithFormat:@"%@%@",chosung,[compareString substringWithRange:NSMakeRange(i,1)]];
        }
    }
    
    if ([chosung rangeOfString:choseongString].location != NSNotFound){
        return YES;
    }
    else {
        return NO;
    }
}</pre>